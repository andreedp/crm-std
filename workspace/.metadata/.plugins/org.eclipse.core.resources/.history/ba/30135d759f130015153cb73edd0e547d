define(['services/services'],
  function(services) {
	services.factory('User', ['$resource', '$cacheFactory', 
       function($resource, $cacheFactory) {
         	return $resource('/itcm/api/secUser/:id',{}, {
         		'update': {method: 'PUT'},
         		'delete': {method:'DELETE', url: '/itcm/api/secUser/:id', params: {id: '@id'}},
         		'current': {method:'GET', url: '/itcm/secUser/currentUser'},
         		'currentClinic': {method:'GET', url: '/itcm/main/currentClinic'},
         		'currentRole': {method:'GET', url: '/itcm/main/currentRole'},
         		'currentLanguage': {method:'GET', url: '/itcm/main/currentLanguage'},
         		'changePassword': {method:'POST', url: '/itcm/secUser/changePassword', params: {currentPassword: '@currentPassword', newPassword: '@newPassword'}},
         		'queryAllDoctors':  {method:'GET', isArray:true, cache: $cacheFactory('di.data.doctors'), url: '/itcm/secUser/doctors'},
         		'queryAuthorities':  {method:'GET', isArray:true, url: '/itcm/secUser/authorities/:id', params: {id: '@id'}},
         		'accessRights':  {method:'GET', isArray:true, url: '/itcm/secUser/accessRights'},
         		'getTenantSetting':  {method:'GET', url: '/itcm/secUser/getTenantSetting'},
         	});
     }]);
});